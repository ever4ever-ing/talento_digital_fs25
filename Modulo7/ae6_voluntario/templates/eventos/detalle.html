{% extends 'base.html' %}

{% block title %}{{ evento.titulo }} - Detalle{% endblock %}

{% block content %}
<div class="card">
    <h2>ğŸ“… Detalle del Evento</h2>
    
    <div style="margin: 20px 0;">
        <p><strong>TÃ­tulo:</strong> {{ evento.titulo }}</p>
        <p><strong>DescripciÃ³n:</strong></p>
        <div style="background-color: #f8f9fa; padding: 15px; border-radius: 5px; margin: 10px 0;">
            {{ evento.descripcion }}
        </div>
        <p><strong>Fecha:</strong> {{ evento.fecha|date:"d/m/Y" }}</p>
        <p><strong>Total de Voluntarios:</strong> {{ evento.cantidad_voluntarios }}</p>
    </div>
    
    <div style="margin-top: 30px;">
        <h3 style="color: #667eea; margin-bottom: 15px;">ğŸ‘¥ Voluntarios Asignados:</h3>
        {% if evento.voluntarios.all %}
            <table>
                <thead>
                    <tr>
                        <th>Nombre</th>
                        <th>Email</th>
                        <th>TelÃ©fono</th>
                        <th>AcciÃ³n</th>
                    </tr>
                </thead>
                <tbody>
                    {% for voluntario in evento.voluntarios.all %}
                    <tr>
                        <td>{{ voluntario.nombre }}</td>
                        <td>{{ voluntario.email }}</td>
                        <td>{{ voluntario.telefono|default:"N/A" }}</td>
                        <td>
                            <a href="{% url 'detalle_voluntario' voluntario.pk %}" class="btn btn-primary" style="font-size: 12px; padding: 5px 10px;">Ver Perfil</a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% else %}
            <p style="color: #999; font-style: italic;">No hay voluntarios asignados a este evento aÃºn.</p>
            <a href="{% url 'asignar_voluntario' evento.pk %}" class="btn btn-success" style="margin-top: 10px;">â• Asignar Voluntarios</a>
        {% endif %}
    </div>
    
    <div style="margin-top: 30px; display: flex; gap: 10px;">
        <a href="{% url 'asignar_voluntario' evento.pk %}" class="btn btn-success">ğŸ‘¥ Gestionar Voluntarios</a>
        <a href="{% url 'editar_evento' evento.pk %}" class="btn btn-secondary">âœï¸ Editar</a>
        <a href="{% url 'eliminar_evento' evento.pk %}" class="btn btn-danger">ğŸ—‘ï¸ Eliminar</a>
        <a href="{% url 'lista_eventos' %}" class="btn btn-primary">â† Volver a la lista</a>
    </div>
</div>
{% endblock %}
